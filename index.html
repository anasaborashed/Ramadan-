<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ… ğŸŒ™</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Amiri&family=Cairo:wght@700&display=swap');

:root{
  --light:#9adcf7;
  --dark:#3a8fb7;
}

body{
  margin:0;
  font-family: 'Cairo', sans-serif;
  background: radial-gradient(circle at top,#bfefff,#6bbadf);
  color:#033;
  overflow-y:auto;
}

.lantern{
  position:fixed;
  top:15px;
  left:15px;
  font-size:80px;
  animation:swing 3s ease-in-out infinite;
  opacity:.35;
}
@keyframes swing{
  0%,100%{transform:rotate(-5deg)}
  50%{transform:rotate(5deg)}
}

.star{
  position:fixed;
  top:-10px;
  color:white;
  animation:fall linear infinite;
  opacity:.7;
  pointer-events:none;
}
@keyframes fall{to{transform:translateY(110vh)}}

.container{
  max-width:420px;
  margin:15px auto;
  padding:10px;
  position:relative;
  z-index:2;
}

.card{
  background:rgba(255,255,255,.7);
  border-radius:18px;
  padding:15px;
  margin-bottom:15px;
  box-shadow:0 8px 20px rgba(0,0,0,.15);
}

h1,h2,p{
  text-align:center;
  margin:5px 0;
}

h1{
  font-family:'Amiri', serif;
  font-size:48px;
  color:#ff5f5f;
  text-shadow:2px 2px 5px rgba(0,0,0,0.2);
}

h2{
  font-size:32px;
  color:#3a8fb7;
  text-shadow:1px 1px 3px rgba(0,0,0,0.2);
}

p{
  font-size:20px;
  color:#f4a261;
  text-shadow:1px 1px 2px rgba(0,0,0,0.1);
  line-height:1.5;
}

.counter{
  text-align:center;
  font-size:28px;
}

.zikr{
  text-align:center;
  font-size:20px;
  margin-bottom:5px;
}

.center{
  text-align:center;
  font-weight:bold;
}

#countdown{
  text-align:center;
  font-size:24px;
  font-weight:bold;
  color:#ff5f5f;
  margin-bottom:10px;
}

input{
  width:80%;
  padding:10px;
  border-radius:12px;
  border:1px solid var(--dark);
  margin-bottom:5px;
  display:block;
  margin:auto;
  text-align:center;
}

button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:15px;
  background:var(--dark);
  color:white;
  font-size:17px;
  font-weight:bold;
  cursor:pointer;
}

/* ===== ØªÙ†Ø³ÙŠÙ‚ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© ===== */
#prayers{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.prayer-card{
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:var(--light);
  color:var(--dark);
  padding:10px 15px;
  border-radius:12px;
  font-weight:bold;
  font-size:18px;
  box-shadow:0 4px 10px rgba(0,0,0,0.1);
}
.prayer-card.highlight{
  background:var(--dark);
  color:white;
}
</style>
</head>
<body>

<div class="lantern">ğŸ®</div>

<div class="container">

<!-- Ø§Ù„ØªÙ‡Ù†Ø¦Ø© -->
<div class="card" id="greeting-card">
  <h1>ğŸŒ™ Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ… ğŸŒ™</h1>
  <input type="text" id="name" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ">
  <h2 id="personal-name" style="margin-top:10px;"></h2>
  <p id="duaa" style="display:none;">Ø§Ù„Ù„Ù‡Ù… Ø¨Ø§Ø±Ùƒ Ù„Ù†Ø§ ÙÙŠ Ø±Ù…Ø¶Ø§Ù† ÙˆØ£Ø¹Ù†Ø§ Ø¹Ù„Ù‰ ØµÙŠØ§Ù…Ù‡ ÙˆÙ‚ÙŠØ§Ù…Ù‡</p>
  <p id="wish" style="display:none;">ÙƒÙ„ Ø¹Ø§Ù… ÙˆØ£Ù†ØªÙ… Ø¨Ø®ÙŠØ± âœ¨</p>
  <button onclick="showGreeting()" style="margin-top:10px;">Ø§Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‡Ù†Ø¦Ø©</button>
  <button onclick="resetGreeting()" id="restart" style="display:none; margin-top:10px;">Ø§Ù„Ø¨Ø¯Ø¡ Ù…Ù† Ø¬Ø¯ÙŠØ¯</button>
</div>

<!-- Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ Ù„Ø±Ù…Ø¶Ø§Ù† -->
<div class="card">
  <h2>â³ Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ Ù„Ø±Ù…Ø¶Ø§Ù†</h2>
  <div id="countdown">Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
</div>

<!-- Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© -->
<div class="card">
  <h2>ğŸ•Œ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©</h2>
  <div id="prayers">Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
</div>

<!-- Ø§Ù„Ø³Ø¨Ø­Ø© -->
<div class="card">
  <h2>ğŸ“¿ Ø§Ù„Ø³Ø¨Ø­Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</h2>
  <div class="zikr" id="zikr">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡</div>
  <div class="counter" id="count">0 / 33</div>
  <button onclick="tasbeeh()">Ø³ÙØ¨Ù‘ÙØ­ ğŸ¤²</button>
</div>

</div>

<script>
// Ø´Ø±Ø´Ø§Ø´ÙŠØ¨
for(let i=0;i<25;i++){
  let s=document.createElement("div");
  s.className="star";
  s.innerText="âœ¦";
  s.style.left=Math.random()*100+"vw";
  s.style.animationDuration=4+Math.random()*6+"s";
  document.body.appendChild(s);
}

// Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‡Ù†Ø¦Ø©
function showGreeting(){
  const name = document.getElementById("name").value.trim();
  if(name===""){ alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ!"); return;}
  document.getElementById("personal-name").innerText=name;
  document.getElementById("duaa").style.display="block";
  document.getElementById("wish").style.display="block";
  document.getElementById("restart").style.display="block";
}

// Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨Ø¯Ø¡
function resetGreeting(){
  document.getElementById("name").value="";
  document.getElementById("personal-name").innerText="";
  document.getElementById("duaa").style.display="none";
  document.getElementById("wish").style.display="none";
  document.getElementById("restart").style.display="none";
}

// Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ
function startCountdown(){
  const ramadanDate = new Date("2026-02-18T00:00:00");
  setInterval(()=>{
    const now = new Date();
    const diff = ramadanDate - now;
    if(diff <0){ document.getElementById("countdown").innerText="Ø±Ù…Ø¶Ø§Ù† Ø¨Ø¯Ø£!"; return; }
    const days=Math.floor(diff/(1000*60*60*24));
    const hours=Math.floor((diff/(1000*60*60))%24);
    const minutes=Math.floor((diff/(1000*60))%60);
    const seconds=Math.floor((diff/1000)%60);
    document.getElementById("countdown").innerText=
      `${days} ÙŠÙˆÙ… ${hours} Ø³Ø§Ø¹Ø© ${minutes} Ø¯Ù‚ÙŠÙ‚Ø© ${seconds} Ø«Ø§Ù†ÙŠØ©`;
  },1000);
}
startCountdown();

// Ø§Ù„Ø³Ø¨Ø­Ø©
const azkar=["Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡","Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡","Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡","Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±"];
let zi=0, c=0;
function tasbeeh(){
 c++;
 if(c>33){c=1; zi=(zi+1)%azkar.length;}
 document.getElementById("zikr").innerText=azkar[zi];
 document.getElementById("count").innerText=c+" / 33";
}

// Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©
function to12(t){
 let [h,m]=t.split(":");
 let hInt=parseInt(h);
 let ap=hInt>=12?"PM":"AM";
 hInt=hInt%12||12;
 return hInt+":"+m+" "+ap;
}
fetch("https://api.aladhan.com/v1/timingsByCity?city=Cairo&country=Egypt&method=5")
.then(r=>r.json())
.then(d=>{
 const t=d.data.timings;
 const names=[ ["Ø§Ù„ÙØ¬Ø±",t.Fajr], ["Ø§Ù„Ø¸Ù‡Ø±",t.Dhuhr], ["Ø§Ù„Ø¹ØµØ±",t.Asr], ["Ø§Ù„Ù…ØºØ±Ø¨",t.Maghrib], ["Ø§Ù„Ø¹Ø´Ø§Ø¡",t.Isha] ];
 const now=new Date().toTimeString().slice(0,5);
 let html="";
 names.forEach(p=>{
   let cls=p[1]>now?"highlight":"";
   html+=`<div class="prayer-card ${cls}"><span>${p[0]}</span><span>${to12(p[1])}</span></div>`;
 });
 document.getElementById("prayers").innerHTML=html;
});
<!-- Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø®Ø§Øµ Ø¨Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© -->
// ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙˆÙ‚Øª Ù„Ù€ 12 Ø³Ø§Ø¹Ø©
function to12(t){
 let [h,m]=t.split(":");
 let hInt=parseInt(h);
 let ap=hInt>=12?"PM":"AM";
 hInt=hInt%12||12;
 return hInt+":"+m+" "+ap;
}

// Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©
function updatePrayers(){
 fetch("https://api.aladhan.com/v1/timingsByCity?city=Cairo&country=Egypt&method=5")
 .then(r=>r.json())
 .then(d=>{
   const t=d.data.timings;
   const names=[
     ["Ø§Ù„ÙØ¬Ø±",t.Fajr],
     ["Ø§Ù„Ø¸Ù‡Ø±",t.Dhuhr],
     ["Ø§Ù„Ø¹ØµØ±",t.Asr],
     ["Ø§Ù„Ù…ØºØ±Ø¨",t.Maghrib],
     ["Ø§Ù„Ø¹Ø´Ø§Ø¡",t.Isha]
   ];
   const now=new Date().toTimeString().slice(0,5);
   let html="";
   names.forEach(p=>{
     let cls=p[1]>now?"highlight":"";
     html+=`<div class="prayer-card ${cls}"><span>${p[0]}</span><span>${to12(p[1])}</span></div>`;
   });
   document.getElementById("prayers").innerHTML=html;
 });
}

// ØªØ­Ø¯ÙŠØ« ÙÙˆØ± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
updatePrayers();

// Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ù„Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ Ù„ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ù…Ù†ØªØµÙ Ø§Ù„Ù„ÙŠÙ„
function scheduleNextUpdate(){
  const now = new Date();
  const nextMidnight = new Date();
  nextMidnight.setHours(24,0,0,0); // Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ
  const msUntilMidnight = nextMidnight - now;
  setTimeout(()=>{
    updatePrayers();
    scheduleNextUpdate(); // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© Ù„Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ
  }, msUntilMidnight);
}
scheduleNextUpdate();

</script>
</body>
</html>
